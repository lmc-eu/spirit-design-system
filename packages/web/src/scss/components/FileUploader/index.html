{{#> layout/plain }}

<section class="docs-Section">

  <h2 class="docs-Heading">Input</h2>

  <!-- FileUploader: start -->
  <div id="example_1" class="FileUploader" data-toggle="fileUploader">

    <!-- List item template: start -->
    <template data-spirit-snippet="item">
      <li class="FileUploaderAttachment" data-populate-field="item">
        <svg width="24" height="24" aria-hidden="true">
          <use xlink:href="/icons/svg/sprite.svg#file" />
        </svg>
        <span class="text-truncate" data-populate-field="name"></span>
        <button type="button" class="FileUploaderAttachment__remove" data-populate-field="button">
          <span class="accessibility-hidden">Remove</span>
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#close" />
          </svg>
        </button>
      </li>
    </template>
    <!-- List item template: end -->

    <!-- FileUploaderInput: start -->
    <div class="FileUploaderInput" data-spirit-element="wrapper">
      <label for="fileUpload" class="FileUploaderInput__label">Label</label>
      <div class="FileUploaderInput__dropZone" data-spirit-element="dropZone">
        <svg width="24" height="24" aria-hidden="true">
          <use xlink:href="/icons/svg/sprite.svg#upload" />
        </svg>
        <label for="fileUpload" class="FileUploaderInput__dropZoneLabel">
          <span class="FileUploaderInput__link link-primary link-underlined">Upload your file</span>
          <span class="FileUploaderInput__dragAndDropLabel">or drag and drop here</span>
        </label>
        <div class="FileUploaderInput__helperText">Max file size is 10 MB</div>
        <input type="file" id="fileUpload" name="attachment1" class="FileUploaderInput__input" data-spirit-element="input" />
      </div>
    </div>
    <!-- FileUploaderInput: end -->

    <!-- FileUploaderList: start -->
    <h3 id="attachments-singleFile" hidden>Attachments</h3>
    <ul class="FileUploaderList" aria-labelledby="attachments-singleFile" data-spirit-element="list"></ul>
    <!-- FileUploaderList: end -->

  </div>
  <!-- FileUploader: end -->

</section>
<section class="docs-Section">

  <h2 class="docs-Heading">Input Multiple</h2>

  <!-- FileUploader: start -->
  <div id="example_multiple" class="FileUploader" data-toggle="fileUploader">

    <!-- List item template: start -->
    <template data-spirit-snippet="item">
      <li class="FileUploaderAttachment" data-populate-field="item">
        <svg width="24" height="24" aria-hidden="true">
          <use xlink:href="/icons/svg/sprite.svg#file" />
        </svg>
        <span class="text-truncate" data-populate-field="name"></span>
        <button type="button" class="FileUploaderAttachment__remove" data-populate-field="button">
          <span class="accessibility-hidden">Remove</span>
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#close" />
          </svg>
        </button>
      </li>
    </template>
    <!-- List item template: end -->

    <!-- FileUploaderInput: start -->
    <div class="FileUploaderInput" data-spirit-element="wrapper">
      <label for="fileUploadMultiple" class="FileUploaderInput__label">Label</label>
      <div class="FileUploaderInput__dropZone" data-spirit-element="dropZone">
        <svg width="24" height="24" aria-hidden="true">
          <use xlink:href="/icons/svg/sprite.svg#upload" />
        </svg>
        <label for="fileUploadMultiple" class="FileUploaderInput__dropZoneLabel">
          <span class="FileUploaderInput__link link-primary link-underlined">Upload your file(s)</span>
          <span class="FileUploaderInput__dragAndDropLabel">or drag and drop here</span>
        </label>
        <div class="FileUploaderInput__helperText">Max size of each file is 10 MB</div>
        <input type="file" id="fileUploadMultiple" name="attachment2" class="FileUploaderInput__input" multiple data-spirit-element="input" />
      </div>
    </div>
    <!-- FileUploaderInput: end -->

    <!-- FileUploaderList: start -->
    <h3 id="attachments-multipleFile" hidden>Attachments</h3>
    <ul class="FileUploaderList" aria-labelledby="attachments-multipleFile" data-spirit-element="list"></ul>
    <!-- FileUploaderList: end -->

  </div>
  <!-- FileUploader: end -->

</section>
<section class="docs-Section">

  <h2 class="docs-Heading">Input Validation States</h2>

  <div class="docs-FormFieldGrid">

    <!-- FileUploader: start -->
    <div class="FileUploader" data-toggle="fileUploader">

      <!-- List item template: start -->
      <template data-spirit-snippet="item">
        <li class="FileUploaderAttachment" data-populate-field="item">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#file" />
          </svg>
          <span class="text-truncate" data-populate-field="name"></span>
          <button type="button" class="FileUploaderAttachment__remove" data-populate-field="button">
            <span class="accessibility-hidden">Remove</span>
            <svg width="24" height="24" aria-hidden="true">
              <use xlink:href="/icons/svg/sprite.svg#close" />
            </svg>
          </button>
        </li>
      </template>
      <!-- List item template: end -->

      <!-- FileUploaderInput: start -->
      <div class="FileUploaderInput FileUploaderInput--success" data-spirit-element="wrapper">
        <label for="fileUploadSuccess" class="FileUploaderInput__label FileUploaderInput__label--required">Label</label>
        <div class="FileUploaderInput__dropZone" data-spirit-element="dropZone">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#upload" />
          </svg>
          <label for="fileUploadSuccess" class="FileUploaderInput__dropZoneLabel">
            <span class="FileUploaderInput__link link-primary link-underlined">Upload your file</span>
            <span class="FileUploaderInput__dragAndDropLabel">or drag and drop here</span>
          </label>
          <div class="FileUploaderInput__helperText">Max file size is 10 MB</div>
          <input type="file" id="fileUploadSuccess" name="attachment3" class="FileUploaderInput__input" required data-spirit-element="input" />
        </div>
        <div class="FileUploaderInput__message">Success validation message</div>
      </div>
      <!-- FileUploaderInput: end -->

    </div>
    <!-- FileUploader: end -->

    <!-- FileUploader: start -->
    <div class="FileUploader" data-toggle="fileUploader">

      <!-- List item template: start -->
      <template data-spirit-snippet="item">
        <li class="FileUploaderAttachment" data-populate-field="item">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#file" />
          </svg>
          <span class="text-truncate" data-populate-field="name"></span>
          <button type="button" class="FileUploaderAttachment__remove" data-populate-field="button">
            <span class="accessibility-hidden">Remove</span>
            <svg width="24" height="24" aria-hidden="true">
              <use xlink:href="/icons/svg/sprite.svg#close" />
            </svg>
          </button>
        </li>
      </template>
      <!-- List item template: end -->

      <!-- FileUploaderInput: start -->
      <div class="FileUploaderInput FileUploaderInput--warning" data-spirit-element="wrapper">
        <label for="fileUploadWarning" class="FileUploaderInput__label FileUploaderInput__label--required">Label</label>
        <div class="FileUploaderInput__dropZone" data-spirit-element="dropZone">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#upload" />
          </svg>
          <label for="fileUploadWarning" class="FileUploaderInput__dropZoneLabel">
            <span class="FileUploaderInput__link link-primary link-underlined">Upload your file</span>
            <span class="FileUploaderInput__dragAndDropLabel">or drag and drop here</span>
          </label>
          <div class="FileUploaderInput__helperText">Max file size is 10 MB</div>
          <input type="file" id="fileUploadWarning" name="attachment4" class="FileUploaderInput__input" required data-spirit-element="input" />
        </div>
        <div class="FileUploaderInput__message">Warning validation message</div>
      </div>
      <!-- FileUploaderInput: end -->

    </div>
    <!-- FileUploader: end -->

    <!-- FileUploader: start -->
    <div class="FileUploader" data-toggle="fileUploader">

      <!-- List item template: start -->
      <template data-spirit-snippet="item">
        <li class="FileUploaderAttachment" data-populate-field="item">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#file" />
          </svg>
          <span class="text-truncate" data-populate-field="name"></span>
          <button type="button" class="FileUploaderAttachment__remove" data-populate-field="button">
            <span class="accessibility-hidden">Remove</span>
            <svg width="24" height="24" aria-hidden="true">
              <use xlink:href="/icons/svg/sprite.svg#close" />
            </svg>
          </button>
        </li>
      </template>
      <!-- List item template: end -->

      <!-- FileUploaderInput: start -->
      <div class="FileUploaderInput FileUploaderInput--danger" data-spirit-element="wrapper">
        <label for="fileUploadDanger" class="FileUploaderInput__label FileUploaderInput__label--required">Label</label>
        <div class="FileUploaderInput__dropZone" data-spirit-element="dropZone">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#upload" />
          </svg>
          <label for="fileUploadDanger" class="FileUploaderInput__dropZoneLabel">
            <span class="FileUploaderInput__link link-primary link-underlined">Upload your file</span>
            <span class="FileUploaderInput__dragAndDropLabel">or drag and drop here</span>
          </label>
          <div class="FileUploaderInput__helperText">Max file size is 10 MB</div>
          <input type="file" id="fileUploadDanger" name="attachment5" class="FileUploaderInput__input" required data-spirit-element="input" />
        </div>
        <div class="FileUploaderInput__message">Danger validation message</div>
      </div>
      <!-- FileUploaderInput: end -->

    </div>
    <!-- FileUploader: end -->

  </div>

</section>
<section class="docs-Section">

  <h2 class="docs-Heading">Input with Attachment</h2>

  <div class="docs-FormFieldGrid">

    <!-- FileUploader: start -->
    <div class="FileUploader" data-toggle="fileUploader">

      <!-- List item template: start -->
      <template data-spirit-snippet="item">
        <li class="FileUploaderAttachment" data-populate-field="item">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#file" />
          </svg>
          <span class="text-truncate" data-populate-field="name"></span>
          <button type="button" class="FileUploaderAttachment__remove" data-populate-field="button">
            <span class="accessibility-hidden">Remove</span>
            <svg width="24" height="24" aria-hidden="true">
              <use xlink:href="/icons/svg/sprite.svg#close" />
            </svg>
          </button>
        </li>
      </template>
      <!-- List item template: end -->

      <!-- FileUploaderInput: start -->
      <div class="FileUploaderInput" data-spirit-element="wrapper">
        <label for="fileUploadWithAttachments" class="FileUploaderInput__label">Label</label>
        <div class="FileUploaderInput__dropZone" data-spirit-element="dropZone">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#upload" />
          </svg>
          <label for="fileUploadWithAttachments" class="FileUploaderInput__dropZoneLabel">
            <span class="FileUploaderInput__link link-primary link-underlined">Upload your file</span>
            <span class="FileUploaderInput__dragAndDropLabel">or drag and drop here</span>
          </label>
          <div class="FileUploaderInput__helperText">Max file size is 10 MB</div>
          <input type="file" id="fileUploadWithAttachments" name="attachment6" class="FileUploaderInput__input" data-spirit-element="input" />
        </div>
      </div>
      <!-- FileUploaderInput: end -->

      <!-- FileUploaderList: start -->
      <h3 id="attachments" hidden>Attachments</h3>
      <ul class="FileUploaderList" aria-labelledby="attachments" data-spirit-element="list">

        <!-- FileUploaderAttachment: start -->
        <li class="FileUploaderAttachment">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#file" />
          </svg>
          <span class="text-truncate">My resume.docx</span>
          <button type="button" class="FileUploaderAttachment__remove">
            <span class="accessibility-hidden">Remove</span>
            <svg width="24" height="24" aria-hidden="true">
              <use xlink:href="/icons/svg/sprite.svg#close" />
            </svg>
          </button>
        </li>
        <!-- FileUploaderAttachment: end -->

      </ul>
      <!-- FileUploaderList: end -->

    </div>
    <!-- FileUploader: end -->

    <!-- FileUploader: start -->
    <div class="FileUploader" data-toggle="fileUploader">

      <!-- List item template: start -->
      <template data-spirit-snippet="item">
        <li class="FileUploaderAttachment" data-populate-field="item">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#file" />
          </svg>
          <span class="text-truncate" data-populate-field="name"></span>
          <button type="button" class="FileUploaderAttachment__remove" data-populate-field="button">
            <span class="accessibility-hidden">Remove</span>
            <svg width="24" height="24" aria-hidden="true">
              <use xlink:href="/icons/svg/sprite.svg#close" />
            </svg>
          </button>
        </li>
      </template>
      <!-- List item template: end -->

      <!-- FileUploaderInput: start -->
      <div class="FileUploaderInput FileUploaderInput--danger" data-spirit-element="wrapper">
        <label for="fileUploadWithAttachmentsAndValidation" class="FileUploaderInput__label">Label</label>
        <div class="FileUploaderInput__dropZone" data-spirit-element="dropZone">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#upload" />
          </svg>
          <label for="fileUploadWithAttachmentsAndValidation" class="FileUploaderInput__dropZoneLabel">
            <span class="FileUploaderInput__link link-primary link-underlined">Upload your file</span>
            <span class="FileUploaderInput__dragAndDropLabel">or drag and drop here</span>
          </label>
          <div class="FileUploaderInput__helperText">Max file size is 10 MB</div>
          <input type="file" id="fileUploadWithAttachmentsAndValidation" name="attachment7" class="FileUploaderInput__input" data-spirit-element="input" />
        </div>
        <div class="FileUploaderInput__message">Danger validation message</div>
      </div>
      <!-- FileUploaderInput: end -->

      <!-- FileUploaderList: start -->
      <h3 id="attachments-2" hidden>Attachments</h3>
      <ul class="FileUploaderList" aria-labelledby="attachments-2" data-spirit-element="list">

        <!-- FileUploaderAttachment: start -->
        <li class="FileUploaderAttachment">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#file" />
          </svg>
          <span class="text-truncate">My resume.docx</span>
          <button type="button" class="FileUploaderAttachment__remove">
            <span class="accessibility-hidden">Remove</span>
            <svg width="24" height="24" aria-hidden="true">
              <use xlink:href="/icons/svg/sprite.svg#close" />
            </svg>
          </button>
        </li>
        <!-- FileUploaderAttachment: end -->

        <!-- FileUploaderAttachment: start -->
        <li class="FileUploaderAttachment">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#file" />
          </svg>
          <span class="text-truncate">
            My resume with a name that is too long so it needs to be trimmed. You're not gonna see this part!.pdf
          </span>
          <button type="button" class="FileUploaderAttachment__remove">
            <span class="accessibility-hidden">Remove</span>
            <svg width="24" height="24" aria-hidden="true">
              <use xlink:href="/icons/svg/sprite.svg#close" />
            </svg>
          </button>
        </li>
        <!-- FileUploaderAttachment: end -->

      </ul>
      <!-- FileUploaderList: end -->

    </div>
    <!-- FileUploader: end -->

  </div>

</section>
<section class="docs-Section">

  <h2 class="docs-Heading">Fluid Width</h2>

  <!-- FileUploader: start -->
  <div class="FileUploader FileUploader--fluid" data-toggle="fileUploader">

    <!-- List item template: start -->
    <template data-spirit-snippet="item">
      <li class="FileUploaderAttachment" data-populate-field="item">
        <svg width="24" height="24" aria-hidden="true">
          <use xlink:href="/icons/svg/sprite.svg#file" />
        </svg>
        <span class="text-truncate" data-populate-field="name"></span>
        <button type="button" class="FileUploaderAttachment__remove" data-populate-field="button">
          <span class="accessibility-hidden">Remove</span>
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#close" />
          </svg>
        </button>
      </li>
    </template>
    <!-- List item template: end -->

    <!-- FileUploaderInput: start -->
    <div class="FileUploaderInput" data-spirit-element="wrapper">
      <label for="fileUploadFluid" class="FileUploaderInput__label">Label</label>
      <div class="FileUploaderInput__dropZone" data-spirit-element="dropZone">
        <svg width="24" height="24" aria-hidden="true">
          <use xlink:href="/icons/svg/sprite.svg#upload" />
        </svg>
        <label for="fileUploadFluid" class="FileUploaderInput__dropZoneLabel">
          <span class="FileUploaderInput__link link-primary link-underlined">Upload your file</span>
          <span class="FileUploaderInput__dragAndDropLabel">or drag and drop here</span>
        </label>
        <div class="FileUploaderInput__helperText">Max file size is 10 MB</div>
        <input type="file" id="fileUploadFluid" name="attachment8" class="FileUploaderInput__input" data-spirit-element="input" />
      </div>
    </div>
    <!-- FileUploaderInput: end -->

    <!-- FileUploaderList: start -->
    <h3 id="attachments-3" hidden>Attachments</h3>
    <ul class="FileUploaderList" aria-labelledby="attachments-3" data-spirit-element="list">

      <!-- FileUploaderAttachment: start -->
      <li class="FileUploaderAttachment">
        <svg width="24" height="24" aria-hidden="true">
          <use xlink:href="/icons/svg/sprite.svg#file" />
        </svg>
        <span class="text-truncate">My resume.docx</span>
        <button type="button" class="FileUploaderAttachment__remove">
          <span class="accessibility-hidden">Remove</span>
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#close" />
          </svg>
        </button>
      </li>
      <!-- FileUploaderAttachment: end -->

    </ul>
    <!-- FileUploaderList: end -->

  </div>
  <!-- FileUploader: end -->

</section>
<section class="docs-Section">

  <h2 class="docs-Heading">Example form with multiple FileUploader</h2>

  <form name="example" id="formExample" method="post" enctype="multipart/form-data">

    <!-- Hidden field for example -->
    <input type="hidden" name="hiddenField" value="hidden field value" />

    <!-- FileUploader: start -->
    <div id="example_composition" class="FileUploader" data-toggle="fileUploader" data-file-queue-limit="2">

      <!-- List item template: start -->
      <template data-spirit-snippet="item">
        <li class="FileUploaderAttachment" data-populate-field="item">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#file" />
          </svg>
          <span class="text-truncate" data-populate-field="name"></span>
          <button type="button" class="FileUploaderAttachment__remove" data-populate-field="button">
            <span class="accessibility-hidden">Remove</span>
            <svg width="24" height="24" aria-hidden="true">
              <use xlink:href="/icons/svg/sprite.svg#close" />
            </svg>
          </button>
        </li>
      </template>
      <!-- List item template: end -->

      <!-- FileUploaderInput: start -->
      <div class="FileUploaderInput" data-spirit-element="wrapper">
        <label for="fileUploadInForm" class="FileUploaderInput__label">Label</label>
        <div class="FileUploaderInput__dropZone" data-spirit-element="dropZone">
          <svg width="24" height="24" aria-hidden="true">
            <use xlink:href="/icons/svg/sprite.svg#upload" />
          </svg>
          <label for="fileUploadInForm" class="FileUploaderInput__dropZoneLabel">
            <span class="FileUploaderInput__link link-primary link-underlined">Upload your file</span>
            <span class="FileUploaderInput__dragAndDropLabel">or drag and drop here</span>
          </label>
          <div class="FileUploaderInput__helperText">Max file size is 10 MB</div>
          <input type="file" id="fileUploadInForm" name="attachment9" class="FileUploaderInput__input" multiple data-spirit-element="input" />
        </div>
      </div>
      <!-- FileUploaderInput: end -->

      <!-- FileUploaderList: start -->
      <h3 id="attachments-composition" hidden>Attachments</h3>
      <ul class="FileUploaderList" aria-labelledby="attachments-composition" data-spirit-element="list"></ul>
      <!-- FileUploaderList: end -->

    </div>
    <!-- FileUploader: end -->

    <div style="padding-top: 1rem;">
      <button type="submit" class="Button Button--primary Button--medium">
        Submit me
      </button>
    </div>

  </form>

  <script type="module">
    import FileUploader from '../../../js/FileUploader';

    const form = document.querySelector('#formExample');
    const uploader = document.querySelector('#example_composition');
    const instance = FileUploader.createInstance(uploader);

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      console.log('form element', form);
      console.log('form data', formData);
      console.log('file queue', instance.getFileQueue);

      // Clear after submit
      setTimeout(() => {
        instance.clearFileQueue();
        console.log('file queue after submit', instance.getFileQueue);
      }, 250);
    });
  </script>

</section>

{{/layout/plain }}
