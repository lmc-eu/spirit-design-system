// 1. Use `box-shadow` to ensure the state of the radio field is visible when printed.
// 2. Make sure the state of the radio field is accessible in forced-colors mode (e.g. Windows High Contrast Mode) where
//    our `box-shadow` indicator is removed.
//
// See: https://moderncss.dev/pure-css-custom-styled-radio-buttons/

@use 'sass:map';
@use '../../theme/form-fields' as form-fields-theme;
@use '../../tools/form-fields' as form-fields-tools;
@use 'theme';

$_field-name: 'RadioField';

.RadioField {
    @include form-fields-tools.inline-field-root();
}

.RadioField__input {
    @include form-fields-tools.inline-field-input();

    display: grid;
    width: theme.$input-size;
    height: theme.$input-size;
    margin: theme.$input-margin;
    font: inherit;
    border-radius: theme.$input-border-radius;
    background-color: transparent;
    place-content: center;

    &:checked {
        border-color: form-fields-theme.$inline-field-input-color-checked;
    }

    &::before {
        content: '';
        width: theme.$input-inner-dot-size;
        height: theme.$input-inner-dot-size;
        border-radius: theme.$input-border-radius;
        background-color: canvastext; // 2.
        box-shadow: theme.$input-box-shadow-before; // 1.
        transform: scale(0);
        transition-property: transform;
        transition-duration: theme.$input-transition-duration;
        transition-timing-function: theme.$input-transition-timing;
    }

    &:checked::before {
        transform: scale(1);
    }
}

.RadioField__helperText {
    @include form-fields-tools.helper-text();

    margin-left: form-fields-theme.$spacing;
}

@include form-fields-tools.input-field-validation-states(
    $_field-name,
    theme.$input-box-shadow-x,
    theme.$input-box-shadow-y
);

.RadioField__label {
    @include form-fields-tools.inline-field-label();

    margin-left: form-fields-theme.$spacing;
}

.RadioField__label--hidden {
    @include form-fields-tools.label-hidden();
}

.RadioField__label--required::after {
    @include form-fields-tools.label-required();
}

.RadioField--disabled {
    @include form-fields-tools.inline-field-root-disabled();
}

.RadioField--disabled .RadioField__label {
    @include form-fields-tools.label-disabled();
}

.RadioField--disabled .RadioField__helperText {
    @include form-fields-tools.helper-text-disabled();
}

.RadioField--disabled > .RadioField__input,
.RadioField > .RadioField__input:disabled {
    border-color: form-fields-theme.$input-color-disabled;

    &:checked {
        border-color: form-fields-theme.$input-color-disabled;
    }
}

.RadioField--disabled > .RadioField__input::before,
.RadioField > .RadioField__input:disabled::before {
    box-shadow: theme.$input-box-shadow-disabled; // 1.
}

.RadioField--item {
    @include form-fields-tools.item();
}

.RadioField--item.RadioField--disabled {
    @include form-fields-tools.item-disabled();
}

// stylelint-disable selector-max-class, selector-max-compound-selectors, selector-max-specificity -- We need to override the default styles for the label in Item.
.RadioField--item .RadioField__input:checked ~ .RadioField__label,
.RadioField--item .RadioField__input:checked ~ .RadioField__text > .RadioField__label {
    // stylelint-enable selector-max-class, selector-max-compound-selectors, selector-max-specificity
    @include form-fields-tools.item-label-checked();
}

.RadioField--item .RadioField__helperText {
    @include form-fields-tools.item-helper-text();
}

.RadioField--item:not(.RadioField--disabled):hover .RadioField__validationText,
.RadioField--item:not(.RadioField--disabled):active .RadioField__validationText,
.RadioField--item:not(.RadioField--disabled):hover .RadioField__helperText,
.RadioField--item:not(.RadioField--disabled):active .RadioField__helperText {
    color: inherit;
}
