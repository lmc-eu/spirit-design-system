<p class="mb-600">
    Try scrolling the frame or resizing the window to see how the Tooltip behaves.
    The Floating UI library is trying to keep the Tooltip in the viewport and it is also flipping,
    shifting and resizing the Tooltip when it is not possible to keep it in the viewport.
</p>

<Grid cols="1" tablet="4" marginBottom="space-600">
    <Checkbox id="my-advanced-flip" label="Enable flipping" isChecked/>
    <Checkbox id="my-advanced-flip-cross-axis" label="Enable flipping cross axis" isChecked/>
    <Checkbox id="my-advanced-shift" label="Enable shifting" isChecked/>
    <Checkbox id="my-advanced-size" label="Enable sizing" isChecked/>
</Grid>
<Grid cols="1" tablet="2" marginBottom="space-600">
    <Select id="my-advanced-select" label="Suggested placement">
        <option value="top-start" selected>top-start</option>
        <option value="top">top</option>
        <option value="top-end">top-end</option>
        <option value="right-start">right-start</option>
        <option value="right">right</option>
        <option value="right-end">right-end</option>
        <option value="bottom-start">bottom-start</option>
        <option value="bottom">bottom</option>
        <option value="bottom-end">bottom-end</option>
        <option value="left-start">left-start</option>
        <option value="left">left</option>
        <option value="left-end">left-end</option>
    </Select>
    <Select id="my-advanced-select-fallback" label="Suggested fallback placements">
        <option value="top, right, bottom" selected>top, right, bottom</option>
        <option value="top, left, bottom">top, left, bottom</option>
        <option value="top, left, right, bottom">top, left, right, bottom</option>
        <option value="bottom, right, top">bottom, right, top</option>
        <option value="top, bottom">top, bottom</option>
        <option value="bottom, top">bottom, top</option>
    </Select>
</Grid>

<style>
    .example-viewport {
        width: 100%;
        max-width: 100%;
        height: 30rem;
        overflow: auto;
    }

    .example-content {
        position: relative;
        width: 300%;
        height: 90rem;
        padding-block: 44rem;
        text-align: center;
    }
</style>

<div class="example-viewport bg-cover spirit-feature-tooltip-enable-data-placement" id="my-advanced-viewport">
    <div class="example-content" id="my-advanced-content">
        <TooltipWrapper UNSAFE_className="d-inline-block">
            <Button
                id="my-button"
                aria-describedby="my-advanced-tooltip"
                data-spirit-toggle="tooltip"
                data-spirit-target="#my-advanced-tooltip"
            >
                I have a tooltip ðŸ˜Ž
            </Button>
            <TooltipPopover
                id="my-advanced-tooltip"
                placement="top-start"
                enableControlledPlacement
                flipFallbackAxisSideDirection="top, right, bottom"
            >
                This long tooltip is flipping, resizing and shifting to stay in the viewport.
                Also its arrow is always trying to point to the center of the trigger.
            </TooltipPopover>
        </TooltipWrapper>
    </div>
</div>

<script type="module">
    const checkboxFlip = document.getElementById('my-advanced-flip');
    const checkboxFlipCrossAxis = document.getElementById('my-advanced-flipCrossAxis');
    const checkboxShift = document.getElementById('my-advanced-shift');
    const checkboxSize = document.getElementById('my-advanced-size');
    const select = document.getElementById('my-advanced-select');
    const selectFallback = document.getElementById('my-advanced-select-fallback');

    const tooltip = Tooltip.getOrCreateInstance(document.getElementById('my-advanced-tooltip'));

    tooltip.show();

    checkboxFlip.addEventListener('change', () => tooltip.updateConfig({enableFlipping: checkboxFlip.checked}));

    checkboxFlipCrossAxis.addEventListener('change', () => {
    tooltip.updateConfig({enableFlippingCrossAxis: checkboxFlipCrossAxis.checked});
    });

    checkboxShift.addEventListener('change', () => {
    tooltip.updateConfig({enableShifting: checkboxShift.checked});
    });

    checkboxSize.addEventListener('change', () => {
    tooltip.updateConfig({enableSizing: checkboxSize.checked});
    });

    select.addEventListener('change', () => {
    tooltip.updateConfig({placement: select.value});
    });

    selectFallback.addEventListener('change', () => {
    tooltip.updateConfig({flipFallbackPlacements: selectFallback.value});
    });

    // const viewport = document.getElementById('my-advanced-viewport');
    // const content = document.getElementById('my-advanced-content');
    // viewport.scrollLeft = (content.offsetWidth - viewport.offsetWidth) / 2;
    // viewport.scrollTop = (content.offsetHeight - viewport.offsetHeight) / 2;
</script>
